(function(t){function e(e){for(var a,r,s=e[0],l=e[1],c=e[2],p=0,f=[];p<s.length;p++)r=s[p],n[r]&&f.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],a=!0,s=1;s<o.length;s++){var l=o[s];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=a,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(o,a,function(e){return t[e]}.bind(null,a));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0aa7":function(t,e,o){},"21bb":function(t,e,o){"use strict";var a=o("eaa3"),n=o.n(a);n.a},"29c1":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var a=o("2b0e"),n=o("bb71");o("da64");a["a"].use(n["a"],{iconfont:"md"});var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-content",[o("router-view")],1)],1)},r=[],s={name:"App",data:function(){return{}}},l=s,c=(o("5c0b"),o("2877")),u=o("6544"),p=o.n(u),f=o("7496"),m=o("549c"),d=Object(c["a"])(l,i,r,!1,null,null,null),v=d.exports;p()(d,{VApp:f["a"],VContent:m["a"]});var h=o("8c4f"),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fps-email"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"fps-email__col"},[o("div",{staticClass:"fps-email__block"},[o("div",{staticClass:"fps-email__block-inner"},[t._m(0),o("div",{staticClass:"row mt-5"},[o("div",{staticClass:"fps-email__form-section"},[o("Form")],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"fps-email__buttons"},[o("v-btn",{attrs:{color:"info"},on:{click:function(e){t.$store.dispatch("setEmailTemplateSettings"),t.snackbar=!0}}},[t._v("Save")]),o("v-btn",{on:{click:t.previewTemplate}},[t._v("Preview")])],1)])])]),t._m(1)])])]),o("ModalPreview",{ref:"modalPreview",attrs:{dialog:!1}}),o("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n\t\tThe template has been updated.\n\t\t"),o("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n\t\t\tClose\n\t\t")])],1)],1)},b=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fps-email__heading"},[o("p",[t._v("FRONT PORCH SOLUTIONS")]),o("h1",[t._v("Email Template Extension")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fps-email__legacy-notice mt-3"},[o("p",[t._v("View Legacy Plugin "),o("a",{attrs:{href:"../wp-admin/options-general.php?page=html-template"}},[t._v("Settings")])])])}],T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"forms"},[o("v-form",[o("v-text-field",{attrs:{label:"Logo","append-icon":"image_search","data-lpignore":"true"},on:{click:t.openMediaModal},model:{value:t.logo.filename,callback:function(e){t.$set(t.logo,"filename",e)},expression:"logo.filename"}}),o("v-text-field",{attrs:{label:"Footer Text","data-lpignore":"true"},model:{value:t.footer,callback:function(e){t.footer=e},expression:"footer"}}),o("ColorC"),o("v-switch",{staticClass:"remove-gap",attrs:{label:"Modify HTML"},model:{value:t.modifyHTML,callback:function(e){t.modifyHTML=e},expression:"modifyHTML"}})],1)],1)},_=[],w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"color-picker"},[o("ejs-colorpicker",{ref:"colorpicker",attrs:{value:t.color,showButtons:"true"},on:{beforeClose:t.setTemplateColor}}),o("label",{staticClass:"v-label theme--light",attrs:{for:""}},[t._v("Select Color")])],1)},y=[],C={computed:{color:{get:function(){return this.$store.state.template.color},set:function(t){this.$store.commit("setTemplateColor",t)}}},methods:{setTemplateColor:function(){var t=this.$refs.colorpicker.getValue();this.color=t}}},M=C,k=(o("d862"),Object(c["a"])(M,w,y,!1,null,null,null)),x=k.exports,S={components:{ColorC:x},computed:{logo:{get:function(){return this.$store.state.template.logo},set:function(t){this.$store.commit("setTemplateLogo",t)}},footer:{get:function(){return this.$store.state.template.footer},set:function(t){this.$store.commit("setTemplateFooter",t)}},modifyHTML:{get:function(){return this.$store.state.modifyHTML},set:function(t){this.$store.commit("setModifyHTML",t)}}},methods:{openMediaModal:function(){var t=this,e=wp.media({title:"Select or Upload Media Of Your Chosen Persuasion",button:{text:"Use this media"},library:{type:["image"]},multiple:!1});e.on("select",function(){var o=e.state().get("selection").first().toJSON();t.logo=o}),e.open()}}},L=S,$=(o("c4e7"),o("4bd4")),O=o("b73d"),j=o("2677"),H=Object(c["a"])(L,T,_,!1,null,null,null),E=H.exports;p()(H,{VForm:$["a"],VSwitch:O["a"],VTextField:j["a"]});var P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-xs-center"},[o("v-dialog",{attrs:{width:"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("div",{domProps:{innerHTML:t._s(t.htmlTemplate)}}),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                    Close\n                ")])],1)],1)],1)],1)},V=[],F=(o("a481"),{computed:{htmlTemplate:{get:function(){var t=this.$store.state.template.html,e=t.replace("{MESSAGE}",'This is a test message I want to try out to see if it works. This will be replaced with wordpress email content. <a href="#">Is it working well?</a> ');return e},set:function(t){this.$store.commit("setHTML",t)}}},props:{dialog:Boolean}}),A=F,N=o("8336"),B=o("b0af"),D=o("99d9"),I=o("169a"),J=o("9910"),U=Object(c["a"])(A,P,V,!1,null,null,null),G=U.exports;p()(U,{VBtn:N["a"],VCard:B["a"],VCardActions:D["a"],VDialog:I["a"],VSpacer:J["a"]});var Q={name:"home",components:{Form:E,ModalPreview:G},data:function(){return{snackbar:!1}},beforeCreate:function(){this.$store.dispatch("getEmailTemplateSettings")},methods:{previewTemplate:function(){this.$store.dispatch("setEmailTemplateSettings"),this.$refs.modalPreview.dialog=!0}}},R=Q,W=(o("21bb"),o("2db4")),X=Object(c["a"])(R,g,b,!1,null,null,null),Y=X.exports;p()(X,{VBtn:N["a"],VSnackbar:W["a"]}),a["a"].use(h["a"]);var q=new h["a"]({routes:[{path:"/",name:"home",component:Y}]}),z=o("2f62");a["a"].use(z["a"]);var K=new z["a"].Store({state:{template:{logo:"",footer:"",color:"",html:""},modifyHTML:!1},mutations:{setTemplateColor:function(t,e){t.template.color=e},setTemplateFooter:function(t,e){t.template.footer=e},setTemplateLogo:function(t,e){t.template.logo=e},setModifyHTML:function(t,e){t.modifyHTML=e},setHTML:function(t,e){t.template.html=e}},actions:{setEmailTemplateSettings:function(t){var e={async:!0,crossDomain:!0,url:"../wp-json/fps-email-extension/v1/options",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-WP-Nonce":wpApiSettings.nonce},data:{color:t.state.template.color,modifyHTML:t.state.modifyHTML,logo:t.state.template.logo,footer:t.state.template.footer}};jQuery.ajax(e).done(function(e){console.log(wpApiSettings.nonce),t.dispatch("getEmailTemplateSettings")})},getEmailTemplateSettings:function(t){var e={async:!0,crossDomain:!0,url:"../wp-json/fps-email-extension/v1/options",method:"GET",headers:{"X-WP-Nonce":wpApiSettings.nonce}};jQuery.ajax(e).done(function(e){t.commit("setTemplateLogo",e.logo),t.commit("setTemplateFooter",e.footer),t.commit("setTemplateColor",e.color),t.commit("setModifyHTML",e.modifyHTML),t.commit("setHTML",e.html)})}}}),Z=o("10bd");a["a"].config.productionTip=!1,a["a"].use(Z["a"]),new a["a"]({router:q,store:K,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var a=o("6879"),n=o.n(a);n.a},6879:function(t,e,o){},c4e7:function(t,e,o){"use strict";var a=o("0aa7"),n=o.n(a);n.a},d862:function(t,e,o){"use strict";var a=o("29c1"),n=o.n(a);n.a},eaa3:function(t,e,o){}});
//# sourceMappingURL=app.ad5e8f92.js.map